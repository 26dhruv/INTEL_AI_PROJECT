INFO:backend.mongodb_manager:✅ Connected to MongoDB: workforce_monitoring
INFO:backend.mongodb_manager:✅ Collections setup complete
INFO:backend.mongodb_manager:✅ Database indexes created successfully
INFO:__main__:✅ MongoDB connected successfully
INFO:__main__:Loaded 3 employees with face encodings for recognition
INFO:__main__:✅ Real Face Recognition System initialized
INFO:__main__:Safety detection classifiers loaded successfully
INFO:__main__:✅ Real Safety Monitor initialized with computer vision
INFO:__main__:🚀 Starting Workforce Monitoring System...
INFO:__main__:📊 Dashboard: http://localhost:5001
INFO:__main__:🔧 API: http://localhost:5001/api
INFO:__main__:🔐 Default admin credentials: admin/admin123
 * Serving Flask app 'app_simple'
 * Debug mode: on
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.100.3.176:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
INFO:backend.mongodb_manager:✅ Connected to MongoDB: workforce_monitoring
INFO:backend.mongodb_manager:✅ Collections setup complete
INFO:backend.mongodb_manager:✅ Database indexes created successfully
INFO:__main__:✅ MongoDB connected successfully
INFO:__main__:Loaded 3 employees with face encodings for recognition
INFO:__main__:✅ Real Face Recognition System initialized
INFO:__main__:Safety detection classifiers loaded successfully
INFO:__main__:✅ Real Safety Monitor initialized with computer vision
INFO:__main__:🚀 Starting Workforce Monitoring System...
INFO:__main__:📊 Dashboard: http://localhost:5001
INFO:__main__:🔧 API: http://localhost:5001/api
INFO:__main__:🔐 Default admin credentials: admin/admin123
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 939-533-255
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:50:48] "GET /socket.io/?EIO=4&transport=polling HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:50:58] "GET /socket.io/?EIO=4&transport=polling&t=bfs7f6fk HTTP/1.1" 200 -
INFO:__main__:Client connected
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:50:58] "POST /socket.io/?EIO=4&transport=polling&t=bfs7tjts&sid=003cQqA4XLRK_Cq2AAAB HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:50:58] "GET /socket.io/?EIO=4&transport=polling&t=bfs7vokz&sid=003cQqA4XLRK_Cq2AAAB HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:50:58] "GET /socket.io/?EIO=4&transport=websocket&sid=003cQqA4XLRK_Cq2AAAB HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:49] "GET /socket.io/?EIO=4&transport=polling&t=bgv9ywrg HTTP/1.1" 200 -
INFO:__main__:Client connected
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:49] "POST /socket.io/?EIO=4&transport=polling&t=bgva30f1&sid=lGqswBrBHJE7xWIEAAAD HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:49] "GET /socket.io/?EIO=4&transport=polling&t=bgva35ff&sid=lGqswBrBHJE7xWIEAAAD HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:50] "GET /api/employees HTTP/1.1" 200 -
INFO:__main__:Returning 3 employees with face encodings
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:51] "GET /api/employees/face-encodings HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error checking attendance for EMP001 on 2025-07-13: Invalid document {'find': 'attendance', 'filter': {'employee_id': 'EMP001', 'date': datetime.date(2025, 7, 13)}, 'limit': 1, 'singleBatch': True, 'lsid': {'id': Binary(b'\xf4\x1d\xeb\x87\xf4\xc8@;\xa8,\xa7\x93\x85h`\xf3', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389511, 2), 'signature': {'hash': b'\xf4\xf6\xe5\xbd\xc1\xc3\x0b>\xd2\x94\xec\xfb\xcc\x82\xd9\xc2Pr\x1e\xb8', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:51] "GET /api/attendance/check-today?employee_id=EMP001&date=2025-07-13 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:56] "OPTIONS /api/auth/login HTTP/1.1" 200 -
/Users/dhruvthakkar/Desktop/cllg/bachelors/sem-6/INTEL_AI_PROJECT/backend/app_simple.py:501: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'exp': datetime.utcnow() + config.JWT_ACCESS_TOKEN_EXPIRES
/Users/dhruvthakkar/Desktop/cllg/bachelors/sem-6/INTEL_AI_PROJECT/backend/app_simple.py:629: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'expires_at': (datetime.utcnow() + config.JWT_ACCESS_TOKEN_EXPIRES).isoformat()
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "POST /api/auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:51:57.895Z&end_date=2025-07-13T06:51:57.895Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:51:57.894Z&end_date=2025-07-13T06:51:57.894Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:51:57.897Z&end_date=2025-07-13T06:51:57.897Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:51:57.898Z&end_date=2025-07-13T06:51:57.898Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:57] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:__main__:Client disconnected
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'\xf4\x1d\xeb\x87\xf4\xc8@;\xa8,\xa7\x93\x85h`\xf3', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389517, 1), 'signature': {'hash': b'\x92\x1a\x85?V\xebL\x8c\x8e\xcfq\xf6\xd7\xacH\xf9\xf0\xc5\x0e0', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:58] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:58] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:58] "GET /api/safety/stats?start_date=2025-07-06T06:51:57.895Z&end_date=2025-07-13T06:51:57.895Z HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'\x92\x82&9T\x8aDj\x9f\x8d0\xbc\xf2]\xb2\xaf', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389517, 1), 'signature': {'hash': b'\x92\x1a\x85?V\xebL\x8c\x8e\xcfq\xf6\xd7\xacH\xf9\xf0\xc5\x0e0', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:58] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:51:59] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:00] "GET /api/safety/stats?start_date=2025-07-06T06:51:57.898Z&end_date=2025-07-13T06:51:57.898Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:01] "GET /api/attendance/stats?start_date=2025-07-06T06:51:57.897Z&end_date=2025-07-13T06:51:57.897Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:01] "GET /api/attendance/stats?start_date=2025-07-06T06:51:57.894Z&end_date=2025-07-13T06:51:57.894Z HTTP/1.1" 200 -
INFO:__main__:Client disconnected
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:13] "GET /socket.io/?EIO=4&transport=websocket&sid=lGqswBrBHJE7xWIEAAAD HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:13] "OPTIONS /api/auth/me HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:13] "OPTIONS /api/auth/me HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/auth/me HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:52:14.159Z&end_date=2025-07-13T06:52:14.159Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:52:14.160Z&end_date=2025-07-13T06:52:14.160Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:52:14.163Z&end_date=2025-07-13T06:52:14.163Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:52:14.163Z&end_date=2025-07-13T06:52:14.163Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/auth/me HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/employees HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'R&\xa8\xd1\xbd:H\xc4\xa1Cy\xdbs\xffe\xb6', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389533, 73), 'signature': {'hash': b'\x9bF\x8f\xd1\x98\xa4\xb7f\xc3\xe6\x14\xe8\xc1\xbfU\xfbrG7\x1f', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'R&\xa8\xd1\xbd:H\xc4\xa1Cy\xdbs\xffe\xb6', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389533, 73), 'signature': {'hash': b'\x9bF\x8f\xd1\x98\xa4\xb7f\xc3\xe6\x14\xe8\xc1\xbfU\xfbrG7\x1f', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /api/safety/stats?start_date=2025-07-06T06:52:14.160Z&end_date=2025-07-13T06:52:14.160Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /socket.io/?EIO=4&transport=polling&t=bherh0cb HTTP/1.1" 200 -
INFO:__main__:Client connected
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "POST /socket.io/?EIO=4&transport=polling&t=bhevjbxo&sid=B8jkKxT66SLEOt4nAAAF HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /socket.io/?EIO=4&transport=polling&t=bhevjbwv&sid=B8jkKxT66SLEOt4nAAAF HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:14] "GET /socket.io/?EIO=4&transport=polling&t=bhevq8jz&sid=B8jkKxT66SLEOt4nAAAF HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:15] "GET /api/safety/stats?start_date=2025-07-06T06:52:14.163Z&end_date=2025-07-13T06:52:14.163Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:15] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:__main__:Returning 3 employees with face encodings
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:15] "GET /api/employees/face-encodings HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:15] "OPTIONS /api/attendance/check-today?employee_id=EMP001&date=2025-07-13 HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error checking attendance for EMP001 on 2025-07-13: Invalid document {'find': 'attendance', 'filter': {'employee_id': 'EMP001', 'date': datetime.date(2025, 7, 13)}, 'limit': 1, 'singleBatch': True, 'lsid': {'id': Binary(b'\xb8\xbd\x87\x9f\xb3\xc8G\xf7\x85w\x12\xd0\xe4\xbf\x87C', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389533, 73), 'signature': {'hash': b'\x9bF\x8f\xd1\x98\xa4\xb7f\xc3\xe6\x14\xe8\xc1\xbfU\xfbrG7\x1f', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:15] "GET /api/attendance/check-today?employee_id=EMP001&date=2025-07-13 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:16] "GET /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:17] "GET /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:17] "GET /api/attendance/stats?start_date=2025-07-06T06:52:14.159Z&end_date=2025-07-13T06:52:14.159Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:17] "GET /api/attendance/stats?start_date=2025-07-06T06:52:14.163Z&end_date=2025-07-13T06:52:14.163Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:18] "OPTIONS /api/attendance/stats?start_date=2025-06-13T06:52:18.372Z&end_date=2025-07-13T06:52:18.372Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:18] "OPTIONS /api/attendance/stats?start_date=2025-06-13T06:52:18.374Z&end_date=2025-07-13T06:52:18.374Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:52:21.507Z&end_date=2025-07-13T06:52:21.507Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:52:21.508Z&end_date=2025-07-13T06:52:21.508Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/attendance/stats?start_date=2025-07-06T06:52:21.510Z&end_date=2025-07-13T06:52:21.510Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/safety/stats?start_date=2025-07-06T06:52:21.510Z&end_date=2025-07-13T06:52:21.510Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "OPTIONS /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'\xb8\xbd\x87\x9f\xb3\xc8G\xf7\x85w\x12\xd0\xe4\xbf\x87C', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389537, 8), 'signature': {'hash': b'L*\x86l@\x02Q\xf1\xf6\x92\xb8\x9b\x05\xe299_-\x92X', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:21] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:22] "GET /api/safety/stats?start_date=2025-07-06T06:52:21.508Z&end_date=2025-07-13T06:52:21.508Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:22] "GET /api/dashboard/recent-alerts HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:22] "GET /api/safety/stats?start_date=2025-07-06T06:52:21.510Z&end_date=2025-07-13T06:52:21.510Z HTTP/1.1" 200 -
ERROR:backend.mongodb_manager:Error getting dashboard stats: Invalid document {'aggregate': 'attendance', 'pipeline': [{'$match': {'date': datetime.date(2025, 7, 13), 'check_in_time': {'$exists': True}}}, {'$group': {'_id': 1, 'n': {'$sum': 1}}}], 'cursor': {}, 'lsid': {'id': Binary(b'\xf4\x1d\xeb\x87\xf4\xc8@;\xa8,\xa7\x93\x85h`\xf3', 4)}, '$clusterTime': {'clusterTime': Timestamp(1752389537, 8), 'signature': {'hash': b'L*\x86l@\x02Q\xf1\xf6\x92\xb8\x9b\x05\xe299_-\x92X', 'keyId': 7473583290809581575}}, '$db': 'workforce_monitoring'} | cannot encode object: datetime.date(2025, 7, 13), of type: <class 'datetime.date'>
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:22] "GET /api/dashboard/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:24] "GET /api/attendance/stats?start_date=2025-07-06T06:52:21.507Z&end_date=2025-07-13T06:52:21.507Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:25] "GET /api/attendance/stats?start_date=2025-07-06T06:52:21.510Z&end_date=2025-07-13T06:52:21.510Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "OPTIONS /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "OPTIONS /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/attendance/stats?start_date=2025-06-13T06:52:18.372Z&end_date=2025-07-13T06:52:18.372Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "OPTIONS /api/safety/stats?start_date=2025-06-13T06:52:18.372Z&end_date=2025-07-13T06:52:18.372Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/attendance/stats?start_date=2025-06-13T06:52:18.374Z&end_date=2025-07-13T06:52:18.374Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "OPTIONS /api/safety/stats?start_date=2025-06-13T06:52:18.374Z&end_date=2025-07-13T06:52:18.374Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/safety/stats?start_date=2025-06-13T06:52:18.372Z&end_date=2025-07-13T06:52:18.372Z HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/employees HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [13/Jul/2025 00:52:29] "GET /api/safety/stats?start_date=2025-06-13T06:52:18.374Z&end_date=2025-07-13T06:52:18.374Z HTTP/1.1" 200 -
